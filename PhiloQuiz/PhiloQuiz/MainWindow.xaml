<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="PhiloQuiz.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:PhiloQuiz"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="FluentQuiz">
    <!-- 预设默认窗口大小，提升体验 -->
    <Window.SystemBackdrop>
        <DesktopAcrylicBackdrop/>
    </Window.SystemBackdrop>
    <Grid>
        <Grid.RowDefinitions>
            <!-- 标题栏：固定高度（符合WinUI设计规范） -->
            <RowDefinition Height="48" />
            <!-- 导航区域：占满剩余空间 -->
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- 标题栏：绑定返回/面板切换事件，关联NavigationView -->
        <TitleBar
            Grid.Row="0"
            x:Name="titleBar"
            Title="FluentQuiz">
            <TitleBar.IconSource>
                <ImageIconSource ImageSource="AppIcon.ico" />
            </TitleBar.IconSource>
        </TitleBar>
        <!-- 导航视图：优化样式，绑定选择事件 -->
        <NavigationView
            x:Name="navView"
            Grid.Row="1"
            IsBackButtonVisible="Auto"
            IsPaneToggleButtonVisible="True"
            ItemInvoked="NavView_ItemInvoked">
            <NavigationView.MenuItems>
                <NavigationViewItem Content="哲学与人生" Tag="PhiloPage0" Icon="Home">
                    <NavigationViewItem.MenuItems>
                        <NavigationViewItem Content="第一套题" Tag="PhiloPage1"/>
                    </NavigationViewItem.MenuItems>
                    <!-- 优化菜单项样式 -->
                    <NavigationViewItem.Style>
                        <Style TargetType="NavigationViewItem">
                            <Setter Property="FontSize" Value="14"/>
                            <Setter Property="Padding" Value="12,8"/>
                        </Style>
                    </NavigationViewItem.Style>
                </NavigationViewItem>
                <NavigationViewItem Content="专业综合" Tag="CompPage0" Icon="CellPhone">
                    <NavigationViewItem.Style>
                        <Style TargetType="NavigationViewItem">
                            <Setter Property="FontSize" Value="14"/>
                            <Setter Property="Padding" Value="12,8"/>
                        </Style>
                    </NavigationViewItem.Style>
                </NavigationViewItem>
            </NavigationView.MenuItems>
            <!-- 导航内容区域：Frame承载页面 -->
            <Frame x:Name="navFrame" Margin="16"/>
        </NavigationView>
        <ContentDialog
    x:Name="SettingsDialog"
    Title="答题系统设置"
    PrimaryButtonText="保存"
    CloseButtonText="取消"
    PrimaryButtonClick="SettingsDialog_PrimaryButtonClick"
    CloseButtonClick="SettingsDialog_CloseButtonClick">
            <!-- 弹窗内容：设置项布局 -->
            <StackPanel Spacing="20" Width="350">
                <!-- 1. 答题模式设置 -->
                <StackPanel>
                    <TextBlock Text="答题模式" FontSize="16" FontWeight="SemiBold"/>
                    <RadioButton x:Name="rbSequential" Content="顺序作答" IsChecked="True" Margin="10 5 0 0"/>
                    <RadioButton x:Name="rbRandom" Content="随机作答" Margin="10 5 0 0"/>
                </StackPanel>

                <!-- 2. 答题计时设置 -->
                <StackPanel>
                    <TextBlock Text="答题计时" FontSize="16" FontWeight="SemiBold"/>
                    <ToggleSwitch x:Name="tsTimer" Header="开启答题计时" OnContent="开启" OffContent="关闭" IsOn="True"/>
                    <StackPanel Orientation="Horizontal" Margin="10 5 0 0">
                        <TextBlock Text="单题限时（秒）：" VerticalAlignment="Center"/>
                        <TextBox x:Name="tbTimerSeconds" Width="80" Margin="10 0 0 0" Text="60" InputScope="Number"/>
                    </StackPanel>
                </StackPanel>

                <!-- 3. 界面主题设置 -->
                <StackPanel>
                    <TextBlock Text="配色方案" FontSize="16" FontWeight="SemiBold"/>
                    <ComboBox x:Name="cbColor" SelectedIndex="0" Margin="10 5 0 0">
                        <ComboBoxItem Content="浅色主题"/>
                        <ComboBoxItem Content="深色主题"/>
                        <ComboBoxItem Content="跟随系统"/>
                    </ComboBox>
                </StackPanel>

                <StackPanel>
                    <TextBlock Text="窗口材质" FontSize="16" FontWeight="SemiBold"/>
                    <ComboBox x:Name="cbTheme" SelectedIndex="0" Margin="10 5 0 0">
                        <ComboBoxItem Content="纯色"/>
                        <ComboBoxItem Content="亚克力"/>
                        <ComboBoxItem Content="Mica"/>
                    </ComboBox>
                </StackPanel>

                <!-- 4. 分数重置按钮（可选） -->
                <Button x:Name="btnResetScore" Content="重置所有答题分数" Click="BtnResetScore_Click" 
                Style="{StaticResource AccentButtonStyle}" Margin="0 10 0 0"/>
            </StackPanel>
        </ContentDialog>
    </Grid>
</Window>